@using PagedList.Mvc;
@using PagedList;
@model IPagedList<NotesMarketPlace.Models.Note>

@{
    ViewBag.Title = "SearchNotes";
    Layout = "~/Views/Shared/_UserLayout.cshtml";
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    @Styles.Render("~/Content/custom/responsive-tabs.min.css")

    @Styles.Render("~/Content/custom/search-page.css")
    @Styles.Render("~/Content/custom/responsive.css")

}


<section id="search-book-page">
    <!-- Search Banner begins-->
    <section id="search-banner">
        <div class="content-box-sm">
            <h1 class="text-center">Search Notes</h1>
        </div>

    </section>
    <!-- Search Banner ends-->
    <!-- Search Filters-->
    <section id="search-filter">
        <div class="content-box-md">
            <div class="container">
                <h3>Search and Filter Notes</h3>

                <div class="search-input">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group has-search">
                                <span class="fa fa-search form-control-feedback"></span>
                                <input class="form-control" id="Search" type="text" placeholder="Search notes here.." aria-label="Search">
                            </div>
                        </div>



                        <div class="col-md-4 col-lg-2 col-sm-8">
                            <div class="form-group">
                                <select class="form-control" id="select-type">
                                    <option>Select Type</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>
                        </div>

                        <div class="col-md-4 col-lg-2 col-sm-8">
                            <div class="form-group">
                                <select class="form-control" id="select-category">
                                    <option>Select category</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>

                        </div>
                        <div class="col-md-4 col-lg-2 col-sm-8">
                            <div class="form-group">
                                <select class="form-control" id="select-university">
                                    <option>Select university</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>

                        </div>
                        <div class="col-md-4 col-lg-2 col-sm-8">
                            <div class="form-group">
                                <select class="form-control" id="select-course">
                                    <option>Select course</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>

                        </div>
                        <div class="col-md-4 col-lg-2 col-sm-8">
                            <div class="form-group">
                                <select class="form-control" id="select-country" style='display:inline-block'>
                                    <option>Select country</option>
                                    <option>India</option>
                                    <option>Australia</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>

                        </div>
                        <div class="col-md-4 col-lg-2 col-sm-8">
                            <div class="form-group">
                                <select class="form-control" id="select-rating">
                                    <option>Select rating</option>
                                    <option>1</option>
                                    <option>2</option>
                                    <option>3</option>
                                    <option>4</option>
                                    <option>5</option>
                                </select>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <!-- Search Filters ends-->

    <section id="book-list">
        <div class="content-box-md">
            <div class="container">
                <h3>Total @Model.Count() notes</h3>
                <div class="row row-cols-1 row-cols-md-3">
                    @foreach (var booklist in Model)
                    {
                        <div class="col mb-4 Search content">


                            <div class="card h-100">
                                <img src="~/DisplayImage/@(booklist.DisplayPic ?? "Default.jpg")" class="card-img-top" alt="...">
                                <div class="card-body">
                                    <h5 class="card-title" h-100>@Html.ActionLink(@booklist.Title, "NotesDetails", new { id = booklist.ID }, htmlAttributes: new { @class = "book-title" })</h5>
                                    <div class="card-text">
                                        <ul class="book-details">
                                            <li><i class="fa fa-university"></i><span>@booklist.UniversityName, @booklist.CountryID </span></li>
                                            <li><i class="fa fa-book"></i><span>@booklist.NoOfPages Pages</span></li>
                                            <li><i class="fa fa-calendar"></i><span>Thu, Nov 26 2020</span></li>
                                            <li><i class="fa fa-flag"></i><span>5 Users marked this note as inappropriate</span></li>
                                            <li class="rate">
                                                <input type="radio" id="star5" name="rate" value="5" />
                                                <label for="star5" title="text">5 stars</label>
                                                <input type="radio" id="star4" name="rate" value="4" />
                                                <label for="star4" title="text">4 stars</label>
                                                <input type="radio" id="star3" name="rate" value="3" />
                                                <label for="star3" title="text">3 stars</label>
                                                <input type="radio" id="star2" name="rate" value="2" />
                                                <label for="star2" title="text">2 stars</label>
                                                <input type="radio" id="star1" name="rate" value="1" />
                                                <label for="star1" title="text">1 star</label>
                                            </li>
                                            <span class="rate-span">100 reviews</span>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
                @Html.PagedListPager(Model, page => Url.Action("SearchNotes", new { page }))
            </div>
        </div>


    </section>
  

</section>
<script src="~/Scripts/jquery-3.5.1.min.js"></script>
<script src="~/Scripts/bootstrap.min.js"></script>
<script>
    $(document).ready(function () {
        function Contains(text_one, text_two) {
            if (text_one.indexOf(text_two) != -1)
                return true;
        }
        $("#Search").keyup(function () {
            var searhText = $("#Search").val().toLowerCase();
           
            $(".Search").each(function () {
                if (!Contains($(this).text().toLowerCase(), searhText)) {
                    $(this).hide();
                }
                else {
                    $(this).show();
                }
            })


        })

     
    });
    
</script>